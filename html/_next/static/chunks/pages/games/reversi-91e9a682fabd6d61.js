(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{9366:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/reversi",function(){return r(2546)}])},3740:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(6495).Z,n=r(2648).Z,o=r(1598).Z,a=r(7273).Z,s=o(r(7294)),l=n(r(2636)),c=r(7757),d=r(3735),u=r(3341);r(4210);var h=n(r(7746));let g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function f(e){return void 0!==e.default}function m(e){return"number"==typeof e||void 0===e?e:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function p(e,t,r,n,o,a,s){if(!e||e["data-loaded-src"]===t)return;e["data-loaded-src"]=t;let l="decode"in e?e.decode():Promise.resolve();l.catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("blur"===r&&a(!0),null==n?void 0:n.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,o=!1;n.current(i({},t,{nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{o=!0,t.stopPropagation()}}))}(null==o?void 0:o.current)&&o.current(e)}})}function y(e){let[t,r]=s.version.split("."),i=parseInt(t,10),n=parseInt(r,10);return i>18||18===i&&n>=3?{fetchPriority:e}:{fetchpriority:e}}let b=s.forwardRef((e,t)=>{var{imgAttributes:r,heightInt:n,widthInt:o,qualityInt:l,className:c,imgStyle:d,blurStyle:u,isLazy:h,fetchPriority:g,fill:f,placeholder:m,loading:b,srcString:v,config:w,unoptimized:x,loader:j,onLoadRef:_,onLoadingCompleteRef:k,setBlurComplete:S,setShowAltText:N,onLoad:C,onError:E}=e,I=a(e,["imgAttributes","heightInt","widthInt","qualityInt","className","imgStyle","blurStyle","isLazy","fetchPriority","fill","placeholder","loading","srcString","config","unoptimized","loader","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","onLoad","onError"]);return b=h?"lazy":b,s.default.createElement(s.default.Fragment,null,s.default.createElement("img",Object.assign({},I,y(g),{loading:b,width:o,height:n,decoding:"async","data-nimg":f?"fill":"1",className:c,style:i({},d,u)},r,{ref:s.useCallback(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(E&&(e.src=e.src),e.complete&&p(e,v,m,_,k,S,x))},[v,m,_,k,S,E,x,t]),onLoad:e=>{let t=e.currentTarget;p(t,v,m,_,k,S,x)},onError:e=>{N(!0),"blur"===m&&S(!0),E&&E(e)}})))}),v=s.forwardRef((e,t)=>{let r,n;var o,{src:p,sizes:v,unoptimized:w=!1,priority:x=!1,loading:j,className:_,quality:k,width:S,height:N,fill:C,style:E,onLoad:I,onLoadingComplete:P,placeholder:H="empty",blurDataURL:z,fetchPriority:R,layout:T,objectFit:O,objectPosition:G,lazyBoundary:M,lazyRoot:B}=e,A=a(e,["src","sizes","unoptimized","priority","loading","className","quality","width","height","fill","style","onLoad","onLoadingComplete","placeholder","blurDataURL","fetchPriority","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"]);let L=s.useContext(u.ImageConfigContext),W=s.useMemo(()=>{let e=g||L||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t);return i({},e,{allSizes:t,deviceSizes:r})},[L]),F=A,D=F.loader||h.default;delete F.loader;let U="__next_img_default"in D;if(U){if("custom"===W.loader)throw Error('Image with src "'.concat(p,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}else{let e=D;D=t=>{let{config:r}=t,i=a(t,["config"]);return e(i)}}if(T){"fill"===T&&(C=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[T];e&&(E=i({},E,e));let t={responsive:"100vw",fill:"100vw"}[T];t&&!v&&(v=t)}let J="",q=m(S),V=m(N);if("object"==typeof(o=p)&&(f(o)||void 0!==o.src)){let e=f(p)?p.default:p;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(e)));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(e)));if(r=e.blurWidth,n=e.blurHeight,z=z||e.blurDataURL,J=e.src,!C){if(q||V){if(q&&!V){let t=q/e.width;V=Math.round(e.height*t)}else if(!q&&V){let t=V/e.height;q=Math.round(e.width*t)}}else q=e.width,V=e.height}}let Y=!x&&("lazy"===j||void 0===j);(!(p="string"==typeof p?p:J)||p.startsWith("data:")||p.startsWith("blob:"))&&(w=!0,Y=!1),W.unoptimized&&(w=!0),U&&p.endsWith(".svg")&&!W.dangerouslyAllowSVG&&(w=!0),x&&(R="high");let[Z,X]=s.useState(!1),[K,$]=s.useState(!1),Q=m(k),ee=Object.assign(C?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:O,objectPosition:G}:{},K?{}:{color:"transparent"},E),et="blur"===H&&z&&!Z?{backgroundSize:ee.objectFit||"cover",backgroundPosition:ee.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'.concat(c.getImageBlurSvg({widthInt:q,heightInt:V,blurWidth:r,blurHeight:n,blurDataURL:z,objectFit:ee.objectFit}),'")')}:{},er=function(e){let{config:t,src:r,unoptimized:i,width:n,quality:o,sizes:a,loader:s}=e;if(i)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(e,t,r){let{deviceSizes:i,allSizes:n}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let i;i=e.exec(r);i)t.push(parseInt(i[2]));if(t.length){let e=.01*Math.min(...t);return{widths:n.filter(t=>t>=i[0]*e),kind:"w"}}return{widths:n,kind:"w"}}if("number"!=typeof t)return{widths:i,kind:"w"};let o=[...new Set([t,2*t].map(e=>n.find(t=>t>=e)||n[n.length-1]))];return{widths:o,kind:"x"}}(t,n,a),d=l.length-1;return{sizes:a||"w"!==c?a:"100vw",srcSet:l.map((e,i)=>"".concat(s({config:t,src:r,quality:o,width:e})," ").concat("w"===c?e:i+1).concat(c)).join(", "),src:s({config:t,src:r,quality:o,width:l[d]})}}({config:W,src:p,unoptimized:w,width:q,quality:Q,sizes:v,loader:D}),ei=p,en=s.useRef(I);s.useEffect(()=>{en.current=I},[I]);let eo=s.useRef(P);s.useEffect(()=>{eo.current=P},[P]);let ea=i({isLazy:Y,imgAttributes:er,heightInt:V,widthInt:q,qualityInt:Q,className:_,imgStyle:ee,blurStyle:et,loading:j,config:W,fetchPriority:R,fill:C,unoptimized:w,placeholder:H,loader:D,srcString:ei,onLoadRef:en,onLoadingCompleteRef:eo,setBlurComplete:X,setShowAltText:$},F);return s.default.createElement(s.default.Fragment,null,s.default.createElement(b,Object.assign({},ea,{ref:t})),x?s.default.createElement(l.default,null,s.default.createElement("link",Object.assign({key:"__nimg-"+er.src+er.srcSet+er.sizes,rel:"preload",as:"image",href:er.srcSet?void 0:er.src,imageSrcSet:er.srcSet,imageSizes:er.sizes,crossOrigin:F.crossOrigin},y(R)))):null)});t.default=v,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7757:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageBlurSvg=function(e){let{widthInt:t,heightInt:r,blurWidth:i,blurHeight:n,blurDataURL:o,objectFit:a}=e,s=i||t,l=n||r,c=o.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return s&&l?"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 ".concat(s," ").concat(l,"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='").concat(i&&n?"1":"20","'/%3E").concat(c,"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='").concat(o,"'/%3E%3C/svg%3E"):"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' preserveAspectRatio='".concat("contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none","' x='0' y='0' height='100%25' width='100%25' href='").concat(o,"'/%3E%3C/svg%3E")}},7746:function(e,t){"use strict";function r(e){let{config:t,src:r,width:i,quality:n}=e;return"".concat(t.path,"?url=").concat(encodeURIComponent(r),"&w=").concat(i,"&q=").concat(n||75)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.__next_img_default=!0,t.default=r},2546:function(e,t,r){"use strict";let i;r.r(t),r.d(t,{default:function(){return P}});var n=r(5893),o=r(7294),a=r(5675),s=r.n(a),l=r(9793),c=r.n(l);function d(e){return(0,n.jsx)("button",{disabled:e.disabled,onClick:()=>{e.onClick&&e.onClick()},className:" m-1 p-0.5 rounded-full  bg-gray-500 disabled:opacity-50",children:(0,n.jsx)("span",{className:" block px-2 py-1 rounded-full font-semibold text-sm text-purple-200 bg-indigo-800 hover:bg-primary-b-3 hover:text-primary-f-3",children:e.children})})}function u(e){let t;let{value:r,onTileClicked:i}=e;return r&&(t=1===r?(0,n.jsx)(s(),{width:25,height:25,alt:"disc white side up",className:c().discimage,src:"/images/games/reversi/disc-white.svg"}):(0,n.jsx)(s(),{width:25,height:25,alt:"disc black side up",className:c().discimage,src:"/images/games/reversi/disc-black.svg"})),(0,n.jsx)("td",{className:c().boardtile,onClick:()=>{i(e.x,e.y)},children:t})}function h(e){let{gameHistoryIndex:t,boardTiles:r,currentPlayer:i,onTileClicked:o,undoTurn:a,skipTurn:s}=e,l=[];for(let e=0;e<8;e+=1){let t=[];for(let i=0;i<8;i+=1)t.push((0,n.jsx)(u,{x:i,y:e,value:r[i][e],onTileClicked:o},"tile="+i+":"+e));l.push((0,n.jsx)("tr",{children:t},"row="+e))}let h="reversi-board";return 1===i?h+=" white-turn":-1===i&&(h+=" black-turn"),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)("table",{className:c().gameviewport,children:(0,n.jsx)("tbody",{className:c().boardtable,children:l})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d,{onClick:()=>{a()},disabled:t<=0,children:"Undo"}),"\xa0",(0,n.jsxs)(d,{onClick:()=>{s()},children:["Skip ",1===i?"white's":"black's"," turn"]})]})]})}var g=r(3345),f=r.n(g);function m(e){let t="",{logs:r}=e,i=r.length>=10?r.length-10:0;for(let e=i;e<r.length;e+=1)t+="".concat(r[e],"\n");return(0,n.jsx)("div",{className:f().logsarea,children:(0,n.jsx)("textarea",{className:["text-xs p-1 mx-1 text-gray-800",f().logslist].join(" "),readOnly:!0,value:t})})}function p(e){let{currentPlayer:t,whiteScore:r,blackScore:i,logs:o,newGame:a}=e,s="border border-gray-500",l="border border-gray-500";return 1===t?s+=" bg-yellow-700":-1===t&&(l+=" bg-yellow-700"),(0,n.jsxs)("div",{id:"info-panel",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:"REVERSI"}),(0,n.jsx)("div",{className:"text-sm font-medium",children:"It is ".concat(1===t?"White":"Black","'s turn")}),(0,n.jsxs)("div",{className:[s,"p-1 m-1"].join(" "),children:[(0,n.jsx)("svg",{className:f().playericon,height:"14",width:"14",children:(0,n.jsx)("circle",{cx:"7",cy:"7",r:"6",stroke:"grey",strokeWidth:"1",fill:"white"})}),"White Player: ".concat(r)]}),(0,n.jsxs)("div",{className:[l,"p-1 m-1"].join(" "),children:[(0,n.jsx)("svg",{className:f().playericon,height:"14",width:"14",children:(0,n.jsx)("circle",{cx:"7",cy:"7",r:"6",stroke:"grey",strokeWidth:"1",fill:"black"})}),"Black Player: ".concat(i)]}),(0,n.jsx)(m,{logs:o}),(0,n.jsx)(d,{onClick:a,children:"Start New Game"})]})}function y(e,t,r,i,n,o,a){let s=0,l=t+r,c=i+n;for(;;){let t=function(e,t,r,i,n){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t<0||t>7||r<0||r>7);else if(e[t][r]===i&&n>0)return 0;else if(e[t][r]===-1*i)return o&&(e[t][r]=i),1;return -1}(e,l,c,o,s,a);switch(t){case 1:s+=1;break;case 0:return s;default:return 0}l+=r,c+=n}}function b(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y(e,t,0,r,-1,i,n)}function v(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y(e,t,0,r,1,i,n)}function w(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y(e,t,-1,r,0,i,n)}function x(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y(e,t,1,r,0,i,n)}function j(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y(e,t,1,r,-1,i,n)}function _(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y(e,t,-1,r,-1,i,n)}function k(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y(e,t,1,r,1,i,n)}function S(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y(e,t,-1,r,1,i,n)}var N={captureTile:function(e,t,r,i){let n={total:0,north:0,south:0,east:0,west:0,northeast:0,northwest:0,southeast:0,southwest:0};return n.north=b(e,t,r,i),n.south=v(e,t,r,i),n.east=x(e,t,r,i),n.west=w(e,t,r,i),n.northeast=j(e,t,r,i),n.northwest=_(e,t,r,i),n.southeast=k(e,t,r,i),n.southwest=S(e,t,r,i),n.total=n.north+n.south+n.east+n.west+n.northeast+n.northwest+n.southeast+n.southwest,n.total>0&&(n.north>0&&b(e,t,r,i,!0),n.south>0&&v(e,t,r,i,!0),n.east>0&&x(e,t,r,i,!0),n.west>0&&w(e,t,r,i,!0),n.northeast>0&&j(e,t,r,i,!0),n.northwest>0&&_(e,t,r,i,!0),n.southeast>0&&k(e,t,r,i,!0),n.southwest>0&&S(e,t,r,i,!0)),n.total}};function C(){let e={logs:[],gameHistoryIndex:0,gameHistory:[]},t=Array(8);for(let e=0;e<8;e+=1)t[e]=Array(8);return t[3][3]=1,t[4][4]=1,t[4][3]=-1,t[3][4]=-1,e.gameHistory.push({turn:1,whiteScore:2,blackScore:2,board_tiles:t}),e}function E(e){let t=JSON.stringify(e);return JSON.parse(t)}class I extends o.Component{onNewGame(){i.setState(()=>C()),i.addLog("A new game begins...")}onSkipTurn(){i.setState(e=>{let t=E(e),r=E(t.gameHistory[t.gameHistoryIndex]);1===i.currentPlayer()?i.addLog("".concat(r.turn,": White skips his turn")):-1===i.currentPlayer()&&i.addLog("".concat(r.turn,": Black skips his turn")),r.turn+=1,i.saveNextGameHistory(r)})}onUndoMove(){i.setState(e=>{let t=E(e);return t.gameHistoryIndex>0&&(t.gameHistoryIndex-=1,t.gameHistory.pop(),t.logs.push("Undoing turn ".concat(t.gameHistory[t.gameHistoryIndex].turn))),t})}onTileClicked(e,t){let r;let n=E(i.currentGame());if(!n.board_tiles[e][t]){let o=N.captureTile(n.board_tiles,e,t,i.currentPlayer());o>0?(1===i.currentPlayer()?(n.board_tiles[e][t]=1,n.whiteScore+=o+1,n.blackScore-=o,r="".concat(n.turn,": White occupies ").concat(e,":").concat(t)):(n.board_tiles[e][t]=-1,n.whiteScore-=o,n.blackScore+=o+1,r="".concat(n.turn,": Black occupies ").concat(e,":").concat(t)),n.turn+=1,i.saveNextGameHistory(n)):r="Invalid Move at ".concat(e,":").concat(t),i.addLog(r)}}currentPlayer(){return i.currentGame().turn%2==0?-1:1}currentGame(){return i.state.gameHistory[i.state.gameHistoryIndex]}addLog(e){i.setState(t=>{let r=E(t);return r.logs.push(e),r})}saveNextGameHistory(e){i.setState(t=>{let r=E(t);return r.gameHistory||(r.gameHistory=[]),r.gameHistory.push({...e}),r.gameHistory.length>5&&r.gameHistory.shift(),r.gameHistoryIndex=r.gameHistory.length-1,r})}render(){return(0,n.jsxs)("div",{id:"game",className:"flex flex-wrap",children:[(0,n.jsx)("div",{className:"m-4 w-60",children:(0,n.jsx)(p,{currentPlayer:i.currentPlayer(),logs:i.state.logs,whiteScore:i.currentGame().whiteScore,blackScore:i.currentGame().blackScore,newGame:i.onNewGame})}),(0,n.jsx)("div",{className:"m-4 w-60",children:(0,n.jsx)("div",{children:(0,n.jsx)(h,{boardTiles:i.currentGame().board_tiles,gameHistoryIndex:i.state.gameHistoryIndex,currentPlayer:i.currentPlayer(),onTileClicked:i.onTileClicked,skipTurn:i.onSkipTurn,undoTurn:i.onUndoMove})})}),(0,n.jsx)("div",{className:"m-4 w-80",children:(0,n.jsxs)("p",{children:['The goal is to capture as many areas as possible. You can capture by selecting an area wherein you can flip your opponent"s discs. This is valid only if they will be surrounded by your colored disc. For the full instructions, please see',(0,n.jsx)("a",{target:"new",href:"https://en.wikipedia.org/wiki/Reversi",children:" the Wikipedia guide on Reversi "}),". Note this game is meant to be played between 2 players on hotseat."]})})]})}constructor(e){super(e),i=this,i.state=C(),i.state.logs.push("Welcome to My Othello demo")}}function P(){return(0,n.jsx)("div",{className:"grid m-4 justify-center object-center border-t border-b",children:(0,n.jsx)(I,{})})}},9793:function(e){e.exports={"game-board":"Board_game-board__hfRRU",boardtable:"Board_boardtable__oCXlt",boardtile:"Board_boardtile__Y0Tdf",discimage:"Board_discimage__7zIDJ"}},3345:function(e){e.exports={playericon:"InfoPanel_playericon__SF_vN",logsarea:"InfoPanel_logsarea__68KpF",logslist:"InfoPanel_logslist__vzzHf"}},5675:function(e,t,r){e.exports=r(3740)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9366)}),_N_E=e.O()}]);